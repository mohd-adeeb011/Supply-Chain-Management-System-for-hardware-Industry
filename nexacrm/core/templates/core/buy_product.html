<!-- main/templates/main/buy_product.html -->
{% extends "core/base.html" %}

{% block title %}Buy Product{% endblock %}

{% block content %}
    <div class="max-w-md mx-auto mt-10 p-6 bg-white shadow-lg rounded-lg">
        <h2 class="text-2xl font-semibold mb-6 text-center">Do you want to buy {{ product.name }}?</h2>
        <form method="post" class="space-y-6">
            {% csrf_token %}
            <div class="space-y-4">
                {{ form.quantity|as_crispy_field }}
                {{ form.product }}  <!-- Ensure this field is hidden -->
            </div>
            <div class="text-center">
                <button type="submit" class="py-3 px-7 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-300">
                    Confirm Purchase
                </button>
            </div>
        </form>
        {% if error %}
            <p class="mt-4 text-red-500 text-center">{{ error }}</p>
        {% endif %}
    </div>
{% endblock %}
